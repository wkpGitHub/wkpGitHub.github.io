"use strict";(self["webpackChunk_cci_cp_charts_play"]=self["webpackChunk_cci_cp_charts_play"]||[]).push([[674],{5674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.CpFunnel)},s=[],o=function(){var e=this,t=e._self._c;return t("div",{ref:"funnelRef",staticClass:"chart",style:{width:e.width,height:e.height}})},i=[],l=n(5918);const a={name:"Funnel",props:{width:{type:String,default:"600px"},height:{type:String,default:"400px"},zoom:{type:Number,default:1},level:{type:Number,default:4},colors:{type:Array,default:()=>[16098863,760173,11934525,2792703]},texts:{type:Array,default:()=>["漏斗图1","漏斗图2","漏斗图3","漏斗图4"]}},mounted(){const e=[];for(let t=0;t<this.level;t++){const n=(0,l.Yy)([1.5+t,.6+t,2,100,1,!1],[0,2.5*t-4,0],this.colors[t%this.colors.length]);n.add((0,l.vj)(this.texts[t]||"无")),e.push(n)}(0,l.sY)(this.$refs.funnelRef,e)}},c=a;var d=n(4697),u=(0,d.Z)(c,o,i,!1,null,null,null);const p=u.exports,m=p,h={__name:"funnel",setup(e){return{__sfc:!0,CpFunnel:m}}},f=h;var y=(0,d.Z)(f,r,s,!1,null,null,null);const x=y.exports},5918:(e,t,n)=>{n.d(t,{Yy:()=>p,vj:()=>m,sY:()=>h});var r=n(5578);class s extends r.Tme{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const o=new r.Pa4,i=new r.yGw,l=new r.yGw,a=new r.Pa4,c=new r.Pa4;class d{constructor(e={}){const t=this;let n,r,s,d;const u={objects:new WeakMap},p=void 0!==e.element?e.element:document.createElement("div");function m(e,n,r){if(e.isCSS2DObject){o.setFromMatrixPosition(e.matrixWorld),o.applyMatrix4(l);const i=!0===e.visible&&o.z>=-1&&o.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===i?"":"none",!0===i){e.onBeforeRender(t,n,r);const i=e.element;i.style.transform="translate(-50%,-50%) translate("+(o.x*s+s)+"px,"+(-o.y*d+d)+"px)",i.parentNode!==p&&p.appendChild(i),e.onAfterRender(t,n,r)}const a={distanceToCameraSquared:h(r,e)};u.objects.set(e,a)}for(let t=0,s=e.children.length;t<s;t++)m(e.children[t],n,r)}function h(e,t){return a.setFromMatrixPosition(e.matrixWorld),c.setFromMatrixPosition(t.matrixWorld),a.distanceToSquared(c)}function f(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function y(e){const t=f(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=u.objects.get(e).distanceToCameraSquared,r=u.objects.get(t).distanceToCameraSquared;return n-r})),n=t.length;for(let r=0,s=t.length;r<s;r++)t[r].element.style.zIndex=n-r}p.style.overflow="hidden",this.domElement=p,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),i.copy(t.matrixWorldInverse),l.multiplyMatrices(t.projectionMatrix,i),m(e,e,t),y(e)},this.setSize=function(e,t){n=e,r=t,s=n/2,d=r/2,p.style.width=e+"px",p.style.height=t+"px"}}}var u=n(1871);function p(e,t,n,s=[]){const o=new r.fHI(...e),i=new r.YBo({color:n,transparent:!0,opacity:.8,clipIntersection:!0,clippingPlanes:s}),l=new r.Kj0(o,i);return l.position.set(...t),l}function m(e){const t=document.createElement("div");t.className="label",t.textContent=e;const n=new s(t);return n}function h(e,t=[]){if(!e)return;const n=e.clientWidth,s=e.clientHeight,o=new r.CP7({antialias:!0,alpha:!0});o.setSize(n,s),o.localClippingEnabled=!0,e.appendChild(o.domElement);const i=new d;i.setSize(n,s),i.domElement.style.position="absolute",i.domElement.style.top=0,i.domElement.style.pointerEvents="none",e.appendChild(i.domElement);const l=new r.xsS,a=new r.cPb(75,n/s,.1,1e3);a.position.set(0,6,12);const c=new u.z(a,o.domElement),p=new r.ZAu;if(t.length)for(const r of t)p.add(r);l.add(p);const m=new r.PMe(16777215,1.3,0,Math.PI/2);function h(){requestAnimationFrame(h);const{x:e,y:t,z:n}=a.position;m.position.set(e,t,n),c.update(),o.render(l,a),i.render(l,a)}l.add(m),h()}}}]);
//# sourceMappingURL=674.c5c944f4.js.map